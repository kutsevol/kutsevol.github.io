<!DOCTYPE html>
<html lang="en-US">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="author" content="Artur K." />
        <meta name="copyright" content="Artur K." />

        <meta property="og:type" content="article" />
        <meta name="twitter:card" content="summary">

<meta name="keywords" content="linux, python, Programming, " />

<meta property="og:title" content="Python Syntax "/>
<meta property="og:url" content="https://kutsevol.github.io/2017/05/28/python_syntax" />
<meta property="og:description" content="Содержание Синтаксис языка Python Идентификаторы Зарезервированные имена Строки и отступы Многострочные операторы Кавычки в Python Комментарии в Python Пустые строки Модель динамической типизации Разделяемые ссылки Разделяемые ссылки и изменяемые объекты Разделяемые ссылки и равенство В предыдущей статье рассмотрели достоинства и недостатки ЯП Python, установили интерпретатор python3 и написали первую программу …" />
<meta property="og:site_name" content="IT Blog" />
<meta property="og:article:author" content="Artur K." />
<meta property="og:article:published_time" content="2017-05-28T00:00:00+03:00" />
<meta property="" content="2017-05-30T00:00:00+03:00" />
<meta name="twitter:title" content="Python Syntax ">
<meta name="twitter:description" content="Содержание Синтаксис языка Python Идентификаторы Зарезервированные имена Строки и отступы Многострочные операторы Кавычки в Python Комментарии в Python Пустые строки Модель динамической типизации Разделяемые ссылки Разделяемые ссылки и изменяемые объекты Разделяемые ссылки и равенство В предыдущей статье рассмотрели достоинства и недостатки ЯП Python, установили интерпретатор python3 и написали первую программу …">

        <title>Python Syntax  · IT Blog
</title>
        <link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.min.css" rel="stylesheet">
        <link href="//netdna.bootstrapcdn.com/font-awesome/4.0.1/css/font-awesome.css" rel="stylesheet">
        <link rel="stylesheet" type="text/css" href="https://kutsevol.github.io/theme/css/pygments.css" media="screen">
        <link rel="stylesheet" type="text/css" href="https://kutsevol.github.io/theme/tipuesearch/tipuesearch.css" media="screen">
        <link rel="stylesheet" type="text/css" href="https://kutsevol.github.io/theme/css/elegant.css" media="screen">
        <link rel="stylesheet" type="text/css" href="https://kutsevol.github.io/theme/css/custom.css" media="screen">
        <link href="https://kutsevol.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="IT Blog - Full Atom Feed" />
        <link href="https://kutsevol.github.io/feeds/all.rss.xml" type="application/rss+xml" rel="alternate" title="IT Blog - Full RSS Feed" />
    </head>
    <body>
        <div id="content-sans-footer">
        <div class="navbar navbar-static-top">
            <div class="navbar-inner">
                <div class="container-fluid">
                    <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </a>
                    <a class="brand" href="https://kutsevol.github.io/"><span class=site-name>IT Blog</span></a>
                    <div class="nav-collapse collapse">
                        <ul class="nav pull-right top-menu">
                            <li ><a href="https://kutsevol.github.io">Home</a></li>
                            <li ><a href="https://kutsevol.github.io/about/">About</a></li>
                            <li ><a href="https://kutsevol.github.io/categories.html">Categories</a></li>
                            <li ><a href="https://kutsevol.github.io/tags.html">Tags</a></li>
                            <li ><a href="https://kutsevol.github.io/archives.html">Archives</a></li>
                            <li><form class="navbar-search" action="https://kutsevol.github.io/search.html" onsubmit="return validateForm(this.elements['q'].value);"> <input type="text" class="search-query" placeholder="Search" name="q" id="tipue_search_input"></form></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <div class="container-fluid">
            <div class="row-fluid">
                <div class="span1"></div>
                <div class="span10">
<article>
<div class="row-fluid">
    <header class="page-header span10 offset2">
    <h1><a href="https://kutsevol.github.io/2017/05/28/python_syntax"> Python Syntax  </a></h1>
    </header>
</div>

<div class="row-fluid">
        <div class="span8 offset2 article-content">

            
            <div class="contents topic" id="id1">
<p class="topic-title first"><strong>Содержание</strong></p>
<ul class="simple">
<li><a class="reference internal" href="#python" id="id14"><strong>Синтаксис языка Python</strong></a><ul>
<li><a class="reference internal" href="#id3" id="id15"><strong>Идентификаторы</strong></a></li>
<li><a class="reference internal" href="#id4" id="id16"><strong>Зарезервированные имена</strong></a></li>
<li><a class="reference internal" href="#id5" id="id17"><strong>Строки и отступы</strong></a></li>
<li><a class="reference internal" href="#id6" id="id18"><strong>Многострочные операторы</strong></a></li>
<li><a class="reference internal" href="#id7" id="id19"><strong>Кавычки в Python</strong></a></li>
<li><a class="reference internal" href="#id8" id="id20"><strong>Комментарии в Python</strong></a></li>
<li><a class="reference internal" href="#id9" id="id21"><strong>Пустые строки</strong></a></li>
</ul>
</li>
<li><a class="reference internal" href="#id10" id="id22"><strong>Модель динамической типизации</strong></a><ul>
<li><a class="reference internal" href="#id11" id="id23"><strong>Разделяемые ссылки</strong></a></li>
<li><a class="reference internal" href="#id12" id="id24"><strong>Разделяемые ссылки и изменяемые объекты</strong></a></li>
<li><a class="reference internal" href="#id13" id="id25"><strong>Разделяемые ссылки и равенство</strong></a></li>
</ul>
</li>
</ul>
</div>
<hr class="docutils" />
<p>В <a class="reference external" href="https://kutsevol.github.io/2017/05/23/python_started">предыдущей статье</a> рассмотрели достоинства и
недостатки ЯП <strong>Python</strong>, установили интерпретатор <em>python3</em> и написали первую программу
<em>Hello, world!</em>.</p>
<p>В сегодняшней статье расммотрим синтаксис языка, модель динамической типизации.</p>
<hr class="docutils" />
<div class="section" id="python">
<h2><a class="toc-backref" href="#id14"><strong>Синтаксис языка Python</strong></a></h2>
<div class="section" id="id3">
<h3><a class="toc-backref" href="#id15"><strong>Идентификаторы</strong></a></h3>
<p>Идентификаторы в <strong>Python</strong> - это имена, используемые для определения переменных,
функций, классов, модулей и других объектов. Идентификатор начинается с букв A-Z или a-z,
либо знака подчеркивания (_), после чего следует ноль или больше букв, знаков
подчеркивания или цифр от 0 до 9.</p>
<p><em>Никогда не создавайте свою собственную переменную с именем (_), так как это имя
зарезервировано самим интерпретатором.</em></p>
<p>В идентификаторах <strong>Python</strong> не используются знаки &#64;, $ и %.
Так же – <strong>Python</strong> чувствителен к регистру символов, т.е. <em>Manpower</em> и <em>manpower</em>
являются двумя различными именами (<em>идентификаторами</em>).</p>
</div>
<div class="section" id="id4">
<h3><a class="toc-backref" href="#id16"><strong>Зарезервированные имена</strong></a></h3>
<p>В списке ниже приведены имена, которые зарезервированы в <strong>Python</strong>, и их
использование не допускается в использовании определения констант, переменных
или любых других пользовательских именах. Все зарезервированные слова содержат
только строчные буквы:</p>
<table border="1" class="docutils">
<colgroup>
<col width="24%" />
<col width="21%" />
<col width="19%" />
<col width="19%" />
<col width="17%" />
</colgroup>
<tbody valign="top">
<tr><td>and</td>
<td>del</td>
<td>from</td>
<td>not</td>
<td>while</td>
</tr>
<tr><td>as</td>
<td>elif</td>
<td>global</td>
<td>or</td>
<td>with</td>
</tr>
<tr><td>assert</td>
<td>else</td>
<td>if</td>
<td>pass</td>
<td>yield</td>
</tr>
<tr><td>break</td>
<td>except</td>
<td>import</td>
<td>print</td>
<td>&nbsp;</td>
</tr>
<tr><td>class</td>
<td>exec</td>
<td>in</td>
<td>raise</td>
<td>&nbsp;</td>
</tr>
<tr><td>continue</td>
<td>finally</td>
<td>is</td>
<td>return</td>
<td>&nbsp;</td>
</tr>
<tr><td>def</td>
<td>for</td>
<td>lambda</td>
<td>try</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p>Список зарезервированых имен можно так же получить следующим образом:</p>
<pre class="code literal-block">
import keyword
print(keyword.kwlist)
</pre>
</div>
<div class="section" id="id5">
<h3><a class="toc-backref" href="#id17"><strong>Строки и отступы</strong></a></h3>
<p>Одно из самых важных замечаний для тех, кто начал изучать <strong>Python</strong> – это то,
что в нём при обозначении границ блоков кода для классов и функций, а так же
для управления потоками, не используются привычные некоторым фигурные скобки.
Вместо этого – в <strong>Python</strong> используются отступы строк.</p>
<p>Количество отступов в начале строки не имеет значения, но все операторы внутри
такого блока должны иметь их одинаковое количество.</p>
<p>Например, оба блока в примере ниже выполнены правильно:</p>
<pre class="code literal-block">
if True:
  print &quot;True&quot;
else:
  print &quot;False&quot;
</pre>
<p>А вот второй блок в следующем примере – приведёт к ошибке интерпретатора
<strong>IndentationError: unexpected indent</strong>:</p>
<pre class="code literal-block">
if True:
  print &quot;Answer&quot;
  print &quot;True&quot;
else:
  print &quot;Answer&quot;
    print &quot;False&quot;
</pre>
<p>Таким образом, все линии, имеющие одинаковое количество отступов от начала
строки будут формировать блок кода.</p>
</div>
<div class="section" id="id6">
<h3><a class="toc-backref" href="#id18"><strong>Многострочные операторы</strong></a></h3>
<p>Операторы и операнды в Python как правило заканчиваются новой строкой.
Однако, есть возможность использовать знак продолжения строки (\) для обозначения
того, что строка продолжается.
Например:</p>
<pre class="code literal-block">
total = item_one + \
        item_two + \
        item_three
</pre>
<p>Операнды, заключённые в скобки [], {} или () не нуждаются в использовании
такого символа. Например:</p>
<pre class="code literal-block">
days = ['Monday', 'Tuesday', 'Wednesday',
'Thursday', 'Friday']
</pre>
<p>Что бы представлять себе разницу между “оператором” и “операндом” при выполнении
“операции” – посмотрите на эту картинку:</p>
<div class="figure align-center">
<img alt="Operation" src="/images/operation.gif" style="width: 249.0px; height: 122.0px;" />
</div>
</div>
<div class="section" id="id7">
<h3><a class="toc-backref" href="#id19"><strong>Кавычки в Python</strong></a></h3>
<p>В Python используются одинарные ('), двойные (&quot;) и тройные (''' или &quot;&quot;&quot;) кавычки
для обозначения строковых литералов (или просто – строк).</p>
<p>Тройные кавычки могут использоваться для охвата многострочного текста.</p>
<pre class="code literal-block">
word = 'word'
sentence = &quot;This is a sentence.&quot;
paragraph = &quot;&quot;&quot;This is a paragraph. It is
made up of multiple lines and sentences.&quot;&quot;&quot;
</pre>
</div>
<div class="section" id="id8">
<h3><a class="toc-backref" href="#id20"><strong>Комментарии в Python</strong></a></h3>
<p>Хеш-тег (#), который не находится внутри строки задаёт начало комментария.
Все символы после # и до конца строки являются частью комментария, и <strong>Python</strong>
игнорирует их.</p>
<pre class="code literal-block">
#!/usr/bin/python

# First comment
print(&quot;Hello, Python!&quot;); # second comment
</pre>
<p>Приведённый выше код даст такой результат:</p>
<pre class="code literal-block">
Hello, Python!
</pre>
<p>Комментарии так же можно размещать и на одной строке после операторов или
выражения, например:</p>
<pre class="code literal-block">
name = &quot;Madisetti&quot; # This is again comment
</pre>
<p>Многострочные комментарии можно создать так:</p>
<pre class="code literal-block">
# This is a comment.
# This is a comment, too.
# This is a comment, too.
# I said that already.
</pre>
<p>Или так:</p>
<pre class="code literal-block">
'''Line one
second line
third line'''
</pre>
</div>
<div class="section" id="id9">
<h3><a class="toc-backref" href="#id21"><strong>Пустые строки</strong></a></h3>
<p>Пустые строки, или строки содержащие только пробелы, или строки с комментариями,
игнорируются интерпретатором.</p>
<p>В интерактивной сессии интерпретатора, необходимо ввести пустую строку для
завершения многострочного оператора.</p>
<p>Более подробно о том, как правильно оформлять код <strong>Python</strong> можно прочитать в
<a class="reference external" href="http://pep8.ru/doc/pep8/">PEP8</a>!</p>
<p><em>PEP (python enhanced proposal) — заявки на улучшение языка Python.</em></p>
</div>
</div>
<hr class="docutils" />
<div class="section" id="id10">
<h2><a class="toc-backref" href="#id22"><strong>Модель динамической типизации</strong></a></h2>
<p>В одном из примеров мы не объявляли тип переменной либо её саму:</p>
<pre class="code literal-block">
name = &quot;Madisetti&quot;
</pre>
<p>У вас может возникнуть вопрос, как же интерператор <strong>Python</strong> узнает, что речь идет
о строке? И вообще, как <strong>Python</strong> узнает, что есть что?</p>
<p>Для того, чтобы ответить на эти вопросы, необходимо рассмотреть как работает
динамическая типизация в <strong>Python</strong>. Типы данных в <strong>Python</strong> определяются автоматически
во время выполнения, а не в результате объявлений в программном коде. Это означает,
что вам не требуется заранее объявлять переменные (эту концепцию проще понять, если
иметь в виду, что все сводится к переменным, объектам и ссылкам между ними).</p>
<p><strong>Создание переменной</strong></p>
<p>Переменная (т.е. имя или идентификатор), такая как <em>name</em>, создается автоматически,
когда в программном коде ей впервые присваивается некоторое значение. Все последующие
операции присваивания просто изменяют значение, ассоциированное с уже созданным
именем.</p>
<p><strong>Типы переменных</strong></p>
<p>Переменные не имеют никакой информации о типе или ограничениях, связанных с ними.
Понятие типа присущие объектам, а не именам. Переменные универсальны по своей природе -
они всегда являются всего лишь ссылками на конкретные объекты в конкретные моменты
времени.</p>
<p><strong>Использование переменной</strong></p>
<p>Когда переменная участвует в выражении, ее имя замещается объектом, на который
она в настоящий момент ссылается, независимо от того, что это за объект. Кроме
того, прежде чем переменную можно будет использовать, ей должно быть присвоено
значение - использование неицициализированной переменной приведет к ошибке
(<em>NameError:&nbsp;name&nbsp;'name'&nbsp;is&nbsp;not&nbsp;defined</em>).</p>
<p>Для того чтобы понимать что происходит при присваивании некого значения переменной,
рассмотрим такой пример:</p>
<pre class="code literal-block">
a = 3
</pre>
<p><strong>Python</strong> выполнит эту инструкцию в три этапа, концептуально.</p>
<ol class="arabic simple">
<li>Cоздается объект, представляющий число 3.</li>
<li>Создается пременная <em>a</em>, если она еще отсутствует.</li>
<li>В переменную <em>a</em> записывается ссылка на вновь созданный объект, представляющий число 3.</li>
</ol>
<p><strong>Информация о типе хранится в объекте, но не в переменной.</strong></p>
<p>Допустим, у нас есть следующий пример:</p>
<pre class="code literal-block">
a = 3
a = 'spam'
a = 1.23
</pre>
<p>Как уже указывалось ранее, имена не имеют типов, тип - это свойство объекта, а не
имени. В предыдущем листинге просто изменяется ссылка на объект. Все что можно
сказать о перменных в языка <strong>Python</strong> - это то, что они создаются на конкретные
объекты в конкретные моменты времени.</p>
<p>Объекты знают, к какому типу они относятся, - каждый объект содержит поле, в котором
хранится информация о его типе. Целочисленный объект 3, например, будет содержать
значение 3 плюс информацию, которая сообщит интерпретатору <strong>Python</strong>, что объект
является целым числом (строго говоря - это указатель на объект с названием <em>int</em>).
Описатель типа для строки 'spam' указывает на строковой тип (с именем <em>str</em>).
Поскольку информация о типе хранится в объектах, ее не нужно хранить в переменных.</p>
<p>У кого-то может возникнуть вопрос: что происходит с прежними значениями, когда
выполняется новое присваивание?
Например, что произойдет с объектом 3 после выполнения следующих инструкций:</p>
<p>Основная выгода от сборки мусора состоит в том, что вы может свободно распоряжаться
объектами, не будучи обязаны освбождать память в своем сценарии.</p>
<pre class="code literal-block">
a = 3
a = 'spam'
</pre>
<p>Когда имя ассоциируется с новым объектом, интепретатор <strong>Python</strong> освобождает
память, занимаемую предыдущим объектом (если на него не ссылается какое-либо другое
имя или объект). Такое автоматическое освобождение памяти, занимаемой объектами,
называется <em>сборкой мусора (garbage collection)</em>.</p>
<div class="section" id="id11">
<h3><a class="toc-backref" href="#id23"><strong>Разделяемые ссылки</strong></a></h3>
<p>До сих пор мы рассматривали вариант, когда ссылка на объект присваивается
единственной переменной. Теперь введем в действие еще одну переменную и посмотрим,
что происходит с именами и объектами в это случае:</p>
<!-- code:

a = 3
b = a -->
<div class="figure align-center">
<img alt="Python Links to one object" src="/images/links-1.png" style="width: 556.0px; height: 123.0px;" />
</div>
<p>В языке <strong>Python</strong> это называется <em>разделяемая ссылка</em> - несколько имен ссылаются
на один и тот же объект.</p>
<p>Далее добавим еще одну инструкцию:</p>
<pre class="code literal-block">
a = 3
b = a
a = 'spam'
</pre>
<p>В результате выполнения этой инструкции создается новый объект, представляющий
строку 'spam', а ссылка на него записывается в переменную <em>a</em>. Однако эти действия
не оказывают влияния на переменную <em>b</em> - она по-прежнему ссылается на первый
объект, целое число 3. В результате схема взаимоотношений приобретает вид:</p>
<div class="figure align-center">
<img alt="Python Links to two objects" src="/images/links-2.png" style="width: 554.0px; height: 188.0px;" />
</div>
<p>То же самое произошло бы, если бы ссылка на объект 'spam' вместо переменной <em>a</em>
была присвоена переменной <em>b</em> - изменилась бы только переменная <em>b</em>, но не <em>а</em>.
Аналогичная ситуация возникает, даже если тип объекта не изменяется.
Например, рассмотрим следующие три инструкции:</p>
<pre class="code literal-block">
a = 3
b = a
a = a + 2
</pre>
<p>В этой последовательности происходит те же самые события: интепретатор <strong>Python</strong>
создает переменную <em>a</em> и записывает в нее ссылку на объект <em>3</em>. После этого он
создает переменную <em>b</em> и записывает в нее ту же ссылку, что хранится в переменной
<em>a</em>. Наконец, последняя инструкция создает совершенно новый объект (в данном случае -
целое число 5, которое является результатом выполнения операции сложения). Это не
приводит к изменению переменной <em>b</em>. В действительности нет никакого способа
перезаписать значение объекта 3, целые числа относятся к категории неизменяемых
(<em>подробнее о категориях и типов данных далее</em>), и поэтому эти объекты невозможно
изменить.</p>
</div>
<div class="section" id="id12">
<h3><a class="toc-backref" href="#id24"><strong>Разделяемые ссылки и изменяемые объекты</strong></a></h3>
<p>Как будет показано дальше в этом цикле статей, существуют такие объекты и операции,
которые приводят к изменению самих объектов. Например, операции присваивания значения
элементу списка фактически изменяют сам список вместо того, чтобы создавать совершенно
новый объект списка. При работе с объектами, допускающими такие изменения, необходимо
быть особенно внимательными при использовании разделяемых ссылок, так как изменение
одного имени может отразиться на других именах.</p>
<p>Возьмем в качестве примера объекты списков (будут рассмотрены подробно в следующей
части). Списки, поддерживают возможность присваивания значений элементам, - это
просто коллекция объектов, которые в программном коде записываются как литералы
в квадратных скобках:</p>
<pre class="code literal-block">
L1 = [2, 3, 4]
L2 = L1
</pre>
<p>В данном случае <em>L1</em> - это список, содержащий объекты 2, 3 и 4. Доступ к элементам
списка осуществляется по их индексам; так, <em>L1[0]</em> - ссылается на объект 2, т.е. на
первый элемент в списке <em>L1</em>. Cписки являются полноценными объектами, такими же,
как целые числа и строки. После выполнения двух приведенных выше инструкций
<em>L1</em> и <em>L2</em> будут ссылаться на один и тот же объект, так же, как переменные <em>a</em> и
<em>b</em> в примере выше. Точно так же, если теперь добавить еще одну инструкцию:</p>
<pre class="code literal-block">
L1 = 24
</pre>
<p>Переменная <em>L1</em> будет ссылаться на другой объект, а L2 по-прежнему будет ссылаться
на первоначальный список. Однако если синтаксис последней инструкции немного изменить,
эффект получится другим:</p>
<pre class="code literal-block">
L1 = [2, 3, 4]
L2 = L1
L1[0] = 24

L1 # Переменная L1 изменилась
[24, 3, 4]
L2 # Но так же изменилась и переменная L2
[24, 3, 4]
</pre>
<p>Здесь мы не изменяем сам объект <em>L1</em>, изменяется компонент объекта, на который
ссылается <em>L1</em>. Данное изменение затронуло часть самого объекта списка. Поскольку
объект списка разделяется разными переменными, то изменения в самом списке затрагивают
не только <em>L1</em>, т.е. следует понимать, что такие изменения могут сказываться в
других частях программы. В этом примере изменения обнаруживаются также в переменной
<em>L2</em>, потому что она ссылается на тот же самый объект, что и <em>L1</em>. Здесь мы фактически
не изменяли <em>L2</em>, но значение этой переменной изменилось.</p>
<p>Это поведение по умолчанию: если вас оно не устраивает, можно потребовать от
интерпретатора, чтобы вместо создания ссылок он выполнял копирование объектов.
Скопировать список можно несколькими способами, включая встроенную функцию <em>list</em> и
модуль <em>copy</em> из стандартной библиотеки. Однако самым стандартным способом
копирования является получение среза (так же будет рассмотрено в следующих частях)
от начала и до конца списка.</p>
<pre class="code literal-block">
L1 = [2, 3, 4]
L2 = L1[:] # Создание копии списка L1
L1[0] = 24

L1
[24, 3, 4]
L2 # Не изменился
[2, 3, 4]
</pre>
<p><strong>Будьте внимательны</strong>, что способ, основанный на получении среза, неприменим в
случае с другими изменяемым базовым типом - со словарем (будет рассмотрен подробно
в следущей части), потому что словарь не является последовательностью. Чтобы
скопировать словарь, необходимо воспользоваться методом X.copy(). Следует также
отметить, что модуль <em>copy</em> из стандартной библиотеки имеет в своем составе
универсальную функцию, позволяющую копировать объекты любых типов, включая
вложенные структуры (например, словари с вложенными списками).</p>
<pre class="code literal-block">
import copy
x = copy.copy(y) # Создание &quot;поверхностной&quot; копии любого объекта y
x = copy.deepcopy(y) # Создание полной копии: копируются все вложенные части
</pre>
</div>
<div class="section" id="id13">
<h3><a class="toc-backref" href="#id25"><strong>Разделяемые ссылки и равенство</strong></a></h3>
<p>Возможность сборки мусора, описанная ранее, может оказаться более принципиальным
понятием, чем литералы для объектов некоторых типов.</p>
<pre class="code literal-block">
x = 42
x = &quot;shrubbery&quot; # Объект 42 теперь уничтожен?
</pre>
<p>Так как интерпретатор <strong>Python</strong> кэширует и повторно использует малые целые числа и
небольшие строки, объект 42 скорее всего не будет уничтожен. Он, вероятнее всего,
останется в системной таблице для повторного использования, когда вы вновь сгенерируете
число 42 в программном коде. Однако большинство объектов уничтожаются немедленно,
как только будет потеряна последняя ссылка, особенно те, к которым применение
механизма кэширования не имеет смысла.</p>
<p>Согласно модели ссылок в языке <strong>Python</strong>, существует два разных способа выполнять
проверку равенства.</p>
<pre class="code literal-block">
l = [1, 2, 3]
n = l # n и l - ссылки на один и тот же объект
l == n # Одно и то же значение
True
l is n # Один и тот же объект
True
</pre>
<p>Первый способ, основанный на использовании оператора ==, проверяет, равны ли значения
объектов. В языке <strong>Python</strong> практически всегда используется именно этот способ.
Второй способ, основанный на использовании оператора <em>is</em>, проверяет идентичность
объектов. Он возвращает значение <em>True</em>, только если оба имени ссылаются на один и
тот же объект, вследствие этого он является более строгой формой проверки равенства.</p>
<p>На самом деле оператор <em>is</em> просто сравнивает указатели, которые реализуют ссылки,
и тем самым может использоваться для выявления разделяемых ссылок в программном
коде. Он возвращает значение <em>False</em>, даже если имена ссылаются на эквивалентные,
но разные объекты, как, например, в следующем случае, когда выполняются два
различных литеральных выражения:</p>
<pre class="code literal-block">
l = [1, 2, 3]
n = [1, 2, 3] # n и l ссылаются на разные объекты
l == n # Одно и то же значение
True
l is n # Но разные объекты
False
</pre>
<p>Посмотрим, что происходит, если те же самые действия выполняются над малыми целыми
числами:</p>
<pre class="code literal-block">
x = 42
y = 42 # Должно получиться два разных объекта
x == y
True
x is y # Тот же самый объект: кэширование в действии!
True
</pre>
<p>В этом примере переменные <em>x</em> и <em>y</em> должны быть равны, но не эквивалентны, потому
что было выполнено два разных литеральных выражения. Однако из-за того, что малые
целые числа и строки кэшируются и используются повторно, оператор <em>is</em> сообщает,
что переменные ссылаются на один и тот же объект.</p>
<p>Фактически если вы действительно хотите взглянуть на работу внутренних механизмов,
вы всегда можете запросить у интерпретатора количество ссылок на объект: функция
<em>getrefcount</em> из стандартного модуля <em>sys</em> возвращает значение поля счетчика ссылок
в объекте.</p>
<pre class="code literal-block">
import sys
sys.getrefcount(1) # 810 указателей на этот участок памяти
810
</pre>
<hr class="docutils" />
<p>На этом сегодняшняя статья окончена. В следующий раз рассмотрим типы данных.</p>
</div>
</div>


            <aside>
            <nav>
            <ul class="articles-timeline">
                <li class="previous-article">« <a href="https://kutsevol.github.io/2017/05/23/python_started" title="Previous: Python Started">Python Started</a></li>
            </ul>
            </nav>
            </aside>
            
            <div class="disqus">
                <div id="disqus_thread"></div>
                <script type="text/javascript">
                var disqus_shortname = 'ericcarmichaelsnerdery';
                var disqus_identifier = '2017/05/28/python_syntax';
                var disqus_title = 'Python Syntax';
                var disqus_url = 'https://kutsevol.github.io/2017/05/28/python_syntax';

                (function() {
                    var dsq = document.createElement('script');
                    dsq.type = 'text/javascript';
                    dsq.async = true;
                    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
                })();
                </script>
                <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
                <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
            </div>

            
            <hr/>

        </div>
        <section>
        <div class="span2" style="float:right;font-size:0.9em;">
            <h4>Published</h4>
            <time pubdate="pubdate" datetime="2017-05-28T00:00:00+03:00">May 28, 2017</time>

<h4>Last Updated</h4>
<time datetime="2017-05-30T00:00:00+03:00">May 30, 2017</time>

            <h4>Category</h4>
            <a class="category-link" href="https://kutsevol.github.io/categories.html#programming-ref">Programming</a>
            <h4>Tags</h4>
            <ul class="list-of-tags tags-in-article">
                <li><a href="https://kutsevol.github.io/tags.html#linux-ref">linux
                    <span>7</span>
</a></li>
                <li><a href="https://kutsevol.github.io/tags.html#python-ref">python
                    <span>7</span>
</a></li>
            </ul>
<h4>Contact</h4>
    <a href="https://github.com/kutsevol" title="My Github Profile" class="sidebar-social-links" target="_blank">
    <i class="fa fa-github sidebar-social-links"></i></a>
    <a href="https://www.linkedin.com/in/arthur-kutsevol-a20731a4" title="My Linkedin Profile" class="sidebar-social-links" target="_blank">
    <i class="fa fa-linkedin sidebar-social-links"></i></a>
    <a href="/feeds/all.rss.xml" title="Subscribe in a reader" class="sidebar-social-links" target="_blank">
    <i class="fa fa-rss sidebar-social-links"></i></a>
<!-- Begin MailChimp Signup Form -->
<div id="mc-embed-signup">
    <form action="//github.us15.list-manage.com/subscribe/post?u=d09b0b1b59ce2533b417871ed&amp;id=2fe8ad9698" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>
    <div id="mc_embed_signup_scroll">
        <h4>Email Newsletter</h4>
        <input type="email" value="" name="EMAIL" class="email" id="mce-EMAIL" placeholder="Enter your email..." required>
    <div class="clear"><input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="button"></div>
    </form>
</div>
<script type='text/javascript' src='//s3.amazonaws.com/downloads.mailchimp.com/js/mc-validate.js'></script><script type='text/javascript'>(function($) {window.fnames = new Array(); window.ftypes = new Array();fnames[0]='EMAIL';ftypes[0]='email';}(jQuery));var $mcj = jQuery.noConflict(true);</script>
<!--End mc_embed_signup-->
        </div>
        </section>
</div>
</article>
                </div>
                <div class="span1"></div>
            </div>
        </div>
        <div id="push"></div>
    </div>
<footer>
<div id="footer">
    <ul class="footer-content">
        <li class="elegant-power">Powered by <a href="http://getpelican.com/" title="Pelican Home Page">Pelican</a>. Theme: <a href="http://oncrashreboot.com/pelican-elegant" title="Theme Elegant Home Page">Elegant</a> by <a href="http://oncrashreboot.com" title="Talha Mansoor Home Page">Talha Mansoor</a></li>
    </ul>
</div>
</footer>            <script src="https://code.jquery.com/jquery.min.js"></script>
        <script src="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
        <script>
            function validateForm(query)
            {
                return (query.length > 0);
            }
        </script>

            <script type="text/javascript">
var disqus_shortname = 'https-kutsevol-github-io';
(function () {
    var s = document.createElement('script'); s.async = true;
    s.type = 'text/javascript';
    s.src = '//' + disqus_shortname + '.disqus.com/count.js';
    (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
}());
</script>
<script  language="javascript" type="text/javascript">
function uncollapse() {
    if (window.location.hash.match(/^#comment-\d+$/)) {
        $('#disqus_thread').collapse('show');
    }
}
</script>
<script type="text/javascript" language="JavaScript">
uncollapse();
window.onhashchange=function(){
    if (window.location.hash.match(/^#comment-\d+$/))
        window.location.reload(true);
}
</script>
<script>
$('#disqus_thread').on('shown', function () {
    var link = document.getElementsByClassName('accordion-toggle');
    var old_innerHTML = link[0].innerHTML;
    $(link[0]).fadeOut(500, function() {
        $(this).text('Click here to hide comments').fadeIn(500);
    });
    $('#disqus_thread').on('hidden', function () {
        $(link[0]).fadeOut(500, function() {
            $(this).text(old_innerHTML).fadeIn(500);
        });
    })
})
</script>


    </body>
</html>